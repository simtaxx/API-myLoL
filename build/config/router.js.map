{"version":3,"sources":["../../src/config/router.js"],"names":["router","express","Router","euUrl","playerIdUrl","playerDataUrl","getUser","username","axios","get","params","api_key","apiKey","getUserData","userId","req","res","json","salutation","query","userProfil","data","id","userData","length","error","response"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,SAASC,kBAAQC,MAAR,EAAf;AACA,IAAMC,QAAQ,gCAAd;AACA,IAAMC,cAAc,qCAApB;AACA,IAAMC,gBAAgB,qCAAtB;;AAEA,IAAMC,UAAU,SAAVA,OAAU,CAACC,QAAD;AAAA,SAAcC,gBAAMC,GAAN,CAAUN,QAAQC,WAAR,GAAsBG,QAAhC,EAA0C,EAAEG,QAAQ,EAAEC,SAASC,cAAX,EAAV,EAA1C,CAAd;AAAA,CAAhB;AACA,IAAMC,cAAc,SAAdA,WAAc,CAACC,MAAD;AAAA,SAAYN,gBAAMC,GAAN,CAAUN,QAAQE,aAAR,GAAwBS,MAAlC,EAA0C,EAAEJ,QAAQ,EAAEC,SAASC,cAAX,EAAV,EAA1C,CAAZ;AAAA,CAApB;;AAEAZ,OAAOS,GAAP,CAAW,GAAX,EAAgB,UAACM,GAAD,EAAMC,GAAN,EAAc;AAC5BA,MAAIC,IAAJ,CAAS,EAAEC,YAAY,OAAd,EAAT;AACD,CAFD;;AAIAlB,OAAOS,GAAP,CAAW,SAAX;AAAA,qEAAsB,iBAAOM,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACdT,oBADc,GACHQ,IAAII,KAAJ,CAAUZ,QADP;AAAA;AAAA;AAAA,mBAGOD,QAAQC,QAAR,CAHP;;AAAA;AAGZa,sBAHY;AAIZN,kBAJY,GAIHM,WAAWC,IAAX,CAAgBC,EAJb;AAAA;AAAA,mBAKKT,YAAYC,MAAZ,CALL;;AAAA;AAKZS,oBALY;;AAMlB,gBAAIA,SAASF,IAAT,CAAcG,MAAlB,EAA0B;AACxBR,kBAAIC,IAAJ,CAAS,EAAEI,MAAME,SAASF,IAAjB,EAAT;AACD,aAACL,IAAIC,IAAJ,CAAS,EAAEQ,OAAO,6CAAT,EAAT;AARgB;AAAA;;AAAA;AAAA;AAAA;;AAUlBT,gBAAIC,IAAJ,CAAS,YAAMS,QAAN,CAAeL,IAAxB;;AAVkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA;;kBAcerB,M","file":"router.js","sourcesContent":["import express from 'express'\nimport axios from 'axios'\nimport { apiKey } from './config'\n\nconst router = express.Router()\nconst euUrl = 'https://euw1.api.riotgames.com'\nconst playerIdUrl = '/lol/summoner/v4/summoners/by-name/'\nconst playerDataUrl = '/lol/league/v4/entries/by-summoner/'\n\nconst getUser = (username) => axios.get(euUrl + playerIdUrl + username, { params: { api_key: apiKey  } })\nconst getUserData = (userId) => axios.get(euUrl + playerDataUrl + userId, { params: { api_key: apiKey  } })\n\nrouter.get('/', (req, res) => {\n  res.json({ salutation: 'hello' })\n})\n\nrouter.get('/player', async (req, res) => {\n  const username = req.query.username\n  try {\n    const userProfil = await getUser(username)\n    const userId = userProfil.data.id\n    const userData = await getUserData(userId)\n    if (userData.data.length) {\n      res.json({ data: userData.data })\n    } res.json({ error: 'Sorry this user have no ranked informations' })\n  } catch (error) {\n    res.json(error.response.data)\n  }\n})\n\nexport default router"]}